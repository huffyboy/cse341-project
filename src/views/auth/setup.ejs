<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-body">
                    <h2 class="card-title mb-4">Complete Your Account Setup</h2>
                    
                    <% if (error && error.length > 0) { %>
                        <div class="alert alert-danger" role="alert">
                            <%= error %>
                        </div>
                    <% } %>

                    <form action="/auth/setup" method="POST">
                        <div class="mb-3">
                            <label for="org_name" class="form-label fw-bold">Organization Name</label>
                            <input 
                                type="text" 
                                class="form-control border-2" 
                                id="org_name" 
                                name="org_name" 
                                required
                                value="<%= typeof formData !== 'undefined' ? formData.org_name : '' %>"
                            >
                            <div class="form-text">This is your organization's display name</div>
                        </div>

                        <div class="mb-3">
                            <label for="org_handle" class="form-label fw-bold">Organization Handle</label>
                            <input 
                                type="text" 
                                class="form-control border-2" 
                                id="org_handle" 
                                name="org_handle" 
                                required
                                value="<%= typeof formData !== 'undefined' ? formData.org_handle : '' %>"
                            >
                            <div class="form-text">
                                This will be used for SMS commands (e.g., "follow yourhandle"). 
                                No spaces or special characters.
                            </div>
                        </div>

                        <div class="mb-3">
                            <label for="email" class="form-label fw-bold">Email (Optional)</label>
                            <input 
                                type="email" 
                                class="form-control border-2" 
                                id="email" 
                                name="email"
                                value="<%= typeof formData !== 'undefined' ? formData.email : '' %>"
                            >
                        </div>

                        <div class="mb-3">
                            <label for="phone" class="form-label fw-bold">Phone (Optional)</label>
                            <input 
                                type="tel" 
                                class="form-control border-2" 
                                id="phone" 
                                name="phone"
                                value="<%= typeof formData !== 'undefined' ? formData.phone : '' %>"
                            >
                        </div>

                        <div class="mb-3">
                            <label for="timezone" class="form-label fw-bold">Timezone</label>
                            <select class="form-select border-2" id="timezone" name="timezone" required>
                                <option value="UTC" <%= typeof formData !== 'undefined' && formData.timezone === 'UTC' ? 'selected' : '' %>>UTC</option>
                                <option value="America/New_York" <%= typeof formData !== 'undefined' && formData.timezone === 'America/New_York' ? 'selected' : '' %>>Eastern Time</option>
                                <option value="America/Chicago" <%= typeof formData !== 'undefined' && formData.timezone === 'America/Chicago' ? 'selected' : '' %>>Central Time</option>
                                <option value="America/Denver" <%= typeof formData !== 'undefined' && formData.timezone === 'America/Denver' ? 'selected' : '' %>>Mountain Time</option>
                                <option value="America/Los_Angeles" <%= typeof formData !== 'undefined' && formData.timezone === 'America/Los_Angeles' ? 'selected' : '' %>>Pacific Time</option>
                            </select>
                        </div>

                        <div class="mb-3 form-check">
                            <input 
                                type="checkbox" 
                                class="form-check-input border-2" 
                                id="marketing_consent" 
                                name="marketing_consent"
                                style="width: 1.2em; height: 1.2em;"
                                <%= typeof formData !== 'undefined' && formData.marketing_consent ? 'checked' : '' %>
                            >
                            <label class="form-check-label fw-bold" for="marketing_consent">
                                I agree to receive marketing communications
                            </label>
                        </div>

                        <div class="d-grid gap-2">
                            <button type="submit" class="btn btn-primary btn-lg">Complete Setup</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div> 